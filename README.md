# log_analyzer
OTUS Python Developer Professional course

Скрипт для анализа логов web-сервера и формирования отчетов

### Запуск скрипта

Для запуска скрипта необходимо в директории со скриптом выполнить:

`python3 log_analyzer.py` или `./log_analyzer.py`

### Настройки скрипта

Конфигурация по умолчанию находится в директории со скриптом в файле **config.json** 

**Структура файла конфигурации**

```python
{
    "REPORT_SIZE": 1200, # - количество строк в отчете (по умолчанию 1000)
    "REPORT_DIR": "./reports", # - директория, в которую будут сохраняться готовые отчеты (по умолчанию "./reports")
    "LOG_DIR": "./log", # - директория с логами, которые будет обрабатывать скрипт (по умолчанию "./log")
    "LOG_FILE": "la.log", # - файл, в который скрипт будет писать собственный лог (по умолчанию вывод в stdout)
    "MAX_ERRORS_PERCENT": 5 # - допустимый процент ошибок при обработке лога (по умолчанию 10)
}
```
Все или часть настроек могут быть не указаны. В таком случае будут использованы соответствующие значения по умолчанию

При запуске скрипта ему может быть передан путь к другому файлу настроек: 
`python3 log_analyzer.py --config ./foo/bar.json`
Настройки из переданного таким образом файла имеют приоритет над настройками из файла **config.json** и настройками по умолчанию.
Можно передавать файл только с теми настройками, которые необходимо изменить.

### Отчеты

Отчеты представляют из себя html файлы и сохраняются в директорию, которая указана в параметре REPORT_DIR

### Тесты

Скрипт имеет набор тестов, которые могут быть выполнены командой: 

`python3 test_log_analyzer.py`
